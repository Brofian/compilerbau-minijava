Bytecode Generierung - Benedict Sondershaus

## Aufgabenbeschreibung

Der dritte Teil und letzte Teil des Compilers bestand aus der Generierung des Bytecodes, der in `.class` Dateien gespeichert und von der JVM ausgeführt werden kann. Dabei wird der getypte AST rekursiv durchlaufen und für jeden Knoten der entsprechende Bytecode mithilfe der Bibliothek [ASM](https://asm.ow2.io) ausgegeben. Wenn der AST durchlaufen ist, wird der Bytecode in einer `.class` Datei gespeichert.  

Die grundlegende Vorgehensweise funktioniert wie folgt: Ein `Project` wird übergeben, dieses enthält mehrere `Package`, welche jeweils wieder Klassen enthalten. Für jede dieser Klassen wird eigener Bytecode erstellt und in einer eigenen Datei gespeichert. Diese Datei trägt den Namen der Klasse und ist in Unterordnern passend zu den Packages.  
Um die Klasse zu generieren, wird ASM die nötige Information für die Klasse selbst (Zugriffsattribute, Name, Superklasse, ...) und die Felder gegeben. Anschließend werden die Methoden generiert. Der Ausgangspunkt ist der Körper der Methode. Dieses `Statement` kann nun verschiedenen spezifizierten Statements entsprechen, wie `ReturnStatement`, `IfStatement` oder `ContinueStatement`. Für jedes dieser spezifizierten Statements wird der entsprechende Bytecode generiert und falls benötigt, Substatements evaluiert. So muss zum Beispiel in einem `IfStatement` der nötige Bytecode für das `if` generiert werden und in der Mitte der Körper des Ifs evaluiert werden. Wenn ein `Expression` auftritt, wie zum Beispiel bei einer Variablenzuweisung, wird dies gleich evaluiert wie ein `Statement`, indem für die jeweilige spezifiziertere Variante wie `MethodCall` oder `ClassAccess` der jeweilige Bytecode generiert wird. Hier wird auch die Typisierung wichtig, da jede der `Expression` in einer `TypedExpression` liegt und somit der Typ zur Verfügung steht. Dies ist notwendig, da um zum Beispiel zwei `int` zu Addieren anderer Bytecode notwendig ist, wie um zwei `float` zu Addieren.  
Es werden alle `Statement` und `Expression` und rekursiv ihre Substatements und Subexpressionen ausgewertet, bis alle Blätter des AST durchlaufen sind und die Generierung des Methodenkörpers somit fertig ist.  
Der Konstruktor ist ein Spezialfall einer Methode und wird entsprechend generiert.